apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "purpur.fullname" . }}-config
data:
  paper-global.yml: |
    proxies:
      velocity:
        enabled: {{ .Values.server.velocity.enabled | default true }}
        online-mode: {{ .Values.server.onlineMode | default false }}
        secret: {{ .Values.server.velocity.secret | quote }}
  {{- if .Values.server.propertiesOverrides }}
  server-overrides.properties: |
{{ .Values.server.propertiesOverrides | indent 4 }}
  {{- end }}
  {{- if .Values.server.spigotOverrides }}
  spigot-overrides.yml: |
{{ .Values.server.spigotOverrides | indent 4 }}
  {{- end }}

